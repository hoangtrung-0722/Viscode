[{"C:\\Users\\minht\\OneDrive\\Documents\\Viscode\\client\\src\\index.js":"1","C:\\Users\\minht\\OneDrive\\Documents\\Viscode\\client\\src\\reportWebVitals.js":"2","C:\\Users\\minht\\OneDrive\\Documents\\Viscode\\client\\src\\App.js":"3","C:\\Users\\minht\\OneDrive\\Documents\\Viscode\\client\\src\\container\\WorkSpace.js":"4","C:\\Users\\minht\\OneDrive\\Documents\\Viscode\\client\\src\\components\\Terminal.js":"5","C:\\Users\\minht\\OneDrive\\Documents\\Viscode\\client\\src\\components\\BlocklyComponent.js":"6","C:\\Users\\minht\\OneDrive\\Documents\\Viscode\\client\\src\\components\\ExportArea.js":"7","C:\\Users\\minht\\OneDrive\\Documents\\Viscode\\client\\src\\components\\worker.js":"8"},{"size":579,"mtime":1612315974797,"results":"9","hashOfConfig":"10"},{"size":362,"mtime":499162500000,"results":"11","hashOfConfig":"10"},{"size":3791,"mtime":1612885668485,"results":"12","hashOfConfig":"10"},{"size":4575,"mtime":1612885370986,"results":"13","hashOfConfig":"10"},{"size":3798,"mtime":1612885370983,"results":"14","hashOfConfig":"10"},{"size":1442,"mtime":1612884680989,"results":"15","hashOfConfig":"10"},{"size":1708,"mtime":1612885370983,"results":"16","hashOfConfig":"10"},{"size":997,"mtime":1612885370985,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"rd52xe",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"20"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"20"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"C:\\Users\\minht\\OneDrive\\Documents\\Viscode\\client\\src\\index.js",[],["37","38"],"C:\\Users\\minht\\OneDrive\\Documents\\Viscode\\client\\src\\reportWebVitals.js",[],"C:\\Users\\minht\\OneDrive\\Documents\\Viscode\\client\\src\\App.js",["39"],"C:\\Users\\minht\\OneDrive\\Documents\\Viscode\\client\\src\\container\\WorkSpace.js",["40"],"import React from \"react\";\r\nimport Terminal from \"../components/Terminal\";\r\nimport { Layout, Tabs } from \"antd\";\r\nimport BlocklyComponent, { Block, Category } from \"../components/BlocklyComponent\";\r\nimport \"blockly/javascript\";\r\nimport \"./workspace.css\";\r\nimport ExportArea from \"../components/ExportArea\";\r\nconst { Content, Footer } = Layout;\r\n\r\nconst DEFAULT_TITLE = \"Untitled Workspace\";\r\n\r\nconst DEFAULT_WORKSPACE = {\r\n  title: DEFAULT_TITLE,\r\n  key: \"1\",\r\n  xml: \"<xml xmlns='http://www.w3.org/1999/xhtml'></xml>\",\r\n};\r\n\r\nfunction WorkSpace({ updateXml }) {\r\n  const [code, setCode] = React.useState(\"\");\r\n  const onWorkSpaceChange = (code) => setCode(code);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          height: \"100%\",\r\n          width: \"75%\",\r\n          resize: \"horizontal\",\r\n          overflow: \"auto\",\r\n          borderRight: \"1px solid #c6c6c6\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n        }}\r\n      >\r\n        <BlocklyComponent\r\n          readOnly={false}\r\n          move={{\r\n            scrollbars: true,\r\n            drag: true,\r\n            wheel: true,\r\n          }}\r\n          inititalXml={DEFAULT_WORKSPACE.xml}\r\n          onWorkSpaceChange={onWorkSpaceChange}\r\n          updateXml={updateXml}\r\n        >\r\n          <Category name=\"Variables\" categorystyle=\"variable_category\">\r\n            <Block type=\"variables_get\"></Block>\r\n            <Block type=\"variables_set\"></Block>\r\n          </Category>\r\n          <Category name=\"Procedures\" categorystyle=\"procedure_category\">\r\n            <Block type=\"procedures_defnoreturn\"></Block>\r\n            <Block type=\"procedures_defreturn\"></Block>\r\n            <Block type=\"procedures_mutatorcontainer\"></Block>\r\n            <Block type=\"procedures_mutatorarg\"></Block>\r\n            <Block type=\"procedures_callnoreturn\"></Block>\r\n            <Block type=\"procedures_callreturn\"></Block>\r\n          </Category>\r\n          <Category name=\"Text\" categorystyle=\"text_category\">\r\n            <Block type=\"text_print\"></Block>\r\n            <Block type=\"text_prompt\"></Block>\r\n            <Block type=\"text\"></Block>\r\n            <Block type=\"text_length\"></Block>\r\n            <Block type=\"text_multiline\"></Block>\r\n            <Block type=\"text_join\"></Block>\r\n            <Block type=\"text_append\"></Block>\r\n          </Category>\r\n          <Category name=\"Loop\" categorystyle=\"loop_category\">\r\n            <Block type=\"controls_whileUntil\" blockstyle=\"list_blocks\"></Block>\r\n            <Block type=\"controls_repeat\"></Block>\r\n            <Block type=\"controls_for\"></Block>\r\n          </Category>\r\n          <Category name=\"Logic\" categorystyle=\"logic_category\">\r\n            <Block type=\"controls_if\"></Block>\r\n            <Block type=\"logic_compare\"></Block>\r\n            <Block type=\"logic_operation\"></Block>\r\n            <Block type=\"logic_boolean\"></Block>\r\n          </Category>\r\n          <Category name=\"Math\" categorystyle=\"math_category\">\r\n            <Block type=\"math_number\"></Block>\r\n            <Block type=\"math_arithmetic\"></Block>\r\n            <Block type=\"math_modulo\"></Block>\r\n            <Block type=\"math_single\"></Block>\r\n            <Block type=\"math_trig\"></Block>\r\n            <Block type=\"math_constant\"></Block>\r\n            <Block type=\"math_number_property\"></Block>\r\n          </Category>\r\n          <Category name=\"List\" categorystyle=\"list_category\">\r\n            <Block type=\"lists_getIndex\"></Block>\r\n            <Block type=\"lists_create_empty\"></Block>\r\n            <Block type=\"lists_create_with\"></Block>\r\n            <Block type=\"lists_repeat\"></Block>\r\n            <Block type=\"lists_length\"></Block>\r\n            <Block type=\"lists_isEmpty\"></Block>\r\n          </Category>\r\n        </BlocklyComponent>\r\n      </div>\r\n      <Layout style={{ height: \"100%\", width: \"25%\" }}>\r\n        <Content style={{ height: \"35%\" }}>\r\n          <Terminal code={code} />\r\n        </Content>\r\n        <Content style={{ backgroundColor: \"white\", height: \"60%\", border: \"none\" }}>\r\n          <ExportArea code={code} />\r\n        </Content>\r\n        <Footer\r\n          style={{\r\n            height: \"5%\",\r\n            padding: \"5px 10px\",\r\n            borderTop: \"1px solid #cacaca\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          Võ Minh Triều - Nguyễn Hoàng Trung - 2020\r\n        </Footer>\r\n      </Layout>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WorkSpace;\r\nexport { DEFAULT_TITLE, DEFAULT_WORKSPACE };\r\n","C:\\Users\\minht\\OneDrive\\Documents\\Viscode\\client\\src\\components\\Terminal.js",["41"],"import React from \"react\";\r\nimport { Button } from \"antd\";\r\nimport { CaretRightOutlined, StopOutlined } from \"@ant-design/icons\";\r\nimport ScrollToBottom from \"react-scroll-to-bottom\";\r\nimport getWorkerCode from \"./worker\";\r\nimport \"./terminal.css\";\r\n\r\nconst getWebWorker = (code) => {\r\n  const blob = new Blob([getWorkerCode(code)]);\r\n  return new Worker(URL.createObjectURL(blob));\r\n};\r\n\r\nfunction Terminal({ code }) {\r\n  const container = React.useRef(null);\r\n  const output = React.useRef(null);\r\n  const [worker, setWorker] = React.useState(null);\r\n  const [running, setRunning] = React.useState(false);\r\n  const caret = React.useRef(null);\r\n\r\n  React.useState(() => {\r\n    if (caret.current) {\r\n      caret.current.value = \"\";\r\n    }\r\n  }, [running]);\r\n\r\n  const runCode = () => {\r\n    if (worker) worker.terminate();\r\n    output.current.innerHTML = \"\";\r\n    caret.current.value = \"\";\r\n    setRunning(true);\r\n    const temp = getWebWorker(code);\r\n    temp.addEventListener(\"message\", (e) => {\r\n      if (e.data.status !== \"done\") {\r\n        if (e.data.waitForInput) {\r\n          output.current.innerHTML += e.data.text.replaceAll(\"\\\\n\", \"<br/>\");\r\n          caret.current.focus();\r\n        } else {\r\n          output.current.innerHTML += e.data.text.replaceAll(\"\\\\n\", \"<br/>\");\r\n        }\r\n      } else {\r\n        temp.terminate();\r\n        setWorker(null);\r\n        setRunning(false);\r\n        output.current.innerHTML += '<br/><span style=\"color: lime\">Program exited with no error</span>';\r\n      }\r\n    });\r\n    setWorker(temp);\r\n  };\r\n\r\n  const stopRunning = () => {\r\n    worker.terminate();\r\n    setRunning(false);\r\n    output.current.innerHTML += '<br/><span style=\"color: red\">Program stopped by user!</span>';\r\n  };\r\n\r\n  const sendInput = (e) => {\r\n    if (e.key === \"Enter\" && worker) {\r\n      output.current.innerHTML += e.target.value + \"<br/>\";\r\n      worker.postMessage(e.target.value);\r\n      e.target.value = \"\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={container}\r\n      style={{\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        flexFlow: \"column\",\r\n        background: \"black\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          backgroundColor: \"white\",\r\n          padding: \"5px\",\r\n          borderBottom: \"1px solid #cecece\",\r\n        }}\r\n      >\r\n        <h3 style={{ marginBottom: 0 }}>Terminal</h3>\r\n        {running ? (\r\n          <Button\r\n            onClick={stopRunning}\r\n            type=\"primary\"\r\n            danger\r\n            icon={<StopOutlined />}\r\n            title=\"Stop running\"\r\n            style={{ marginLeft: \"auto\" }}\r\n          >\r\n            Stop\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            type=\"primary\"\r\n            icon={<CaretRightOutlined />}\r\n            title=\"Run code in terminal\"\r\n            onClick={runCode}\r\n            style={{ marginLeft: \"auto\" }}\r\n          >\r\n            Run\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      <div\r\n        style={{ backgroundColor: \"black\", padding: 10, height: \"100%\", overflow: \"auto\" }}\r\n        onClick={() => caret.current.focus()}\r\n      >\r\n        <pre style={{ color: \"rgba(255,255,255,0.9)\" }}>\r\n          Viscode Terminal (c) - All Rights Reserved\r\n          <br />\r\n          <span ref={output}></span>\r\n          <input\r\n            ref={caret}\r\n            onKeyDown={sendInput}\r\n            style={{\r\n              display: \"inline\",\r\n              whiteSpace: \"pre-wrap\",\r\n              border: \"none\",\r\n              lineHeight: 1,\r\n              padding: 0,\r\n              background: \"none\",\r\n              outline: \"none\",\r\n            }}\r\n            type=\"text\"\r\n          />\r\n        </pre>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Terminal;\r\n","C:\\Users\\minht\\OneDrive\\Documents\\Viscode\\client\\src\\components\\BlocklyComponent.js",[],"C:\\Users\\minht\\OneDrive\\Documents\\Viscode\\client\\src\\components\\ExportArea.js",[],"C:\\Users\\minht\\OneDrive\\Documents\\Viscode\\client\\src\\components\\worker.js",[],{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","replacedBy":"45"},{"ruleId":"46","severity":1,"message":"47","line":6,"column":9,"nodeType":"48","messageId":"49","endLine":6,"endColumn":15},{"ruleId":"46","severity":1,"message":"50","line":3,"column":18,"nodeType":"48","messageId":"49","endLine":3,"endColumn":22},{"ruleId":"46","severity":1,"message":"51","line":4,"column":8,"nodeType":"48","messageId":"49","endLine":4,"endColumn":22},"no-native-reassign",["52"],"no-negated-in-lhs",["53"],"no-unused-vars","'Header' is assigned a value but never used.","Identifier","unusedVar","'Tabs' is defined but never used.","'ScrollToBottom' is defined but never used.","no-global-assign","no-unsafe-negation"]